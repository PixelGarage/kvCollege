/*
 *  Header section (navigation)
 * --------------------------------------------------*/

// Variables
// -------------------------


// Mixins
// -------------------------
.ph-courses() {
  .view-courses {
    margin: 0 auto 20px;

    .views-row {
      display: inline-block;
      margin: 0 -2px;  // inline block correction
      padding: 5px 0;
      width: 100%;
      height: 35px;

      .field-content {
        position: relative;
        #pxl-mixins.three-part-element(@link-hlg-left, @link-hlg-middle, @link-hlg-right, transparent, 35px);

        &:hover,
        &.active {
          #pxl-mixins.three-part-element(none, none, none, @kv-college-hover, 27px, 0);
          top: 5px;
          left: -5px;
          margin: 0 2px 0 6px;
        }

        a {
          display: block;
          overflow: hidden;
          padding-left: 10px;
          font-family: @pxl-text-font;
          font-size: @font-size-small;
          color: @kv-college-green-dark;
          line-height: 30px;
          text-decoration: none;
          text-overflow: ellipsis;
          white-space: nowrap;

          &:hover,
          &.active {
            padding-left: 15px;
            color: #ffffff;
          }

          &::before {
            content: '\f0da';
            font-family: @pxl-icon-font;
            padding-right: 5px;
          }

        }
      }
    }

    @media @menu-break {
      .views-row {
        width: 50%;
      }
      .views-row-odd {
        padding: 2px 0.5em 2px 0;
      }
      .views-row-even {
        padding: 2px 0 2px 0.5em;
      }
    }


  }
}

.ph-in-depth () {
  .view-courses {
    margin: 0 auto 20px;

    .views-row {
      display: inline-block;
      margin: 0 -2px; // inline block correction
      width: 140px;
      height: 100%;
      vertical-align: top;

      @media @tablet {
        width: 20%;
      }

      .node-in-depth-course.node-teaser {
        margin: 5px;
        padding: 10px;
        background: @gray-lighter none;

        .field-name-field-icon {
          img {
            margin: 0 auto 5px;
          }
        }

        .field-name-title {
          a {
            display:block;
            min-height: 2 * @font-size-small;
            font-family: @pxl-text-font;
            font-size: @font-size-smaller;
            color: @kv-college-green-dark;
            line-height: 1;
            text-align: center;

            @media @normal {
              font-size: @font-size-small;
            }
          }
        }
      }
    }
  }
}

.ph-slider () {
  .view-banners {
    display: none;
    margin: 20px auto;

    @media @tablet {
      display: block;
    }

    .carousel {
      .carousel-control {
        background: none;

        .icon-prev {
          top: 33%;
          margin-top: 0;
          height: 33%;
          background: transparent url(../images/slider_left.png) top left / contain no-repeat;
        }
        .icon-next {
          top: 33%;
          margin-top: 0;
          height: 33%;
          background: transparent url(../images/slider_right.png) top left / contain no-repeat;
        }
        .icon-prev::before,
        .icon-next::before {
          content: '';
        }
      }
    }
  }
}


// Main settings
// -------------------------
body.navbar-is-fixed-top {
  padding-top: 110px !important;
  background: @kv-college-bg url(../images/bg_image.png) top left / cover no-repeat fixed;

  &.admin-menu {
    padding-top: 110px !important;
  }
}


header#navbar {
  border-bottom: none;
  background: transparent none;

  .container {
    padding: @grid-gutter-width @grid-gutter-width / 2 10px;

    .navbar-header {
      // header (branding)
      a.logo {
        img {
          display: none;
          max-height: 50px;
          width: auto;
        }
      }

      a.navbar-brand {
        padding: 0;
        font-family: @pxl-text-font-medium;
        font-size: @font-size-h1;
        color: @kv-college-green-dark;
        line-height: 1;
      }

      .navbar-toggle {
        // navbar toggle with burger
        padding: 5px 10px;
      }
    }

    // collapse part
    .navbar-collapse {
      // main menu
      nav.main-navigation {
        ul.navbar-nav {
          margin: 0;
          @media @tablet {
            float: right;
          }

          li {
            height: 40px;

            a {
              position: relative;
              #pxl-mixins.three-part-element(@menu-img-left, @menu-img-middle, @menu-img-right, transparent, 35px);
              padding: 7px 15px;
              font-family: @pxl-text-font;
              font-size: @font-size-base;
              color: @kv-college-green-dark;
              line-height: 1;

              &:hover,
              &.active {
                #pxl-mixins.three-part-element(none, none, none, @kv-college-hover, 30px);
                top: 5px;
                left: -5px;
                margin-left: 25px;
                padding: 7px 10px;
                color: #ffffff;
              }
            }
          }
        }
      }

      // sub-menu mobile
      nav.sub-navigation {
        display: block;

        @media @tablet {
          display: none;
        }

        // block title
        h2.block-title {
          margin: 20px 0 10px;
          font-family: @pxl-text-font;
          font-size: @font-size-larger;
        }

        // course navigation
        body.node-type-course & {
          .ph-courses();
        }

        // in-depth course navigation
        body.node-type-in-depth-course & {
          .ph-in-depth();
        }

        // slider (main page)
        body.front & {
          .ph-slider();
        }
      }
    }
  }
}

.container {
  // all container with background
  background-color: #fff;
}

.main-container {
  #page-header {
    .region-header {
      display: none;

      @media @tablet {
        display: block;
      }

      // block title
      h2.block-title {
        margin: 20px 0 10px;
        font-family: @pxl-text-font;
        font-size: @font-size-larger;
      }

      // course navigation
      body.node-type-course & {
        .ph-courses();
      }

      // in-depth course navigation
      body.node-type-in-depth-course & {
        .ph-in-depth();
      }

      // slider (main page)
      body.front & {
        .ph-slider();
      }
    }
  }
}
